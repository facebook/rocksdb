PointLockManager was not efficient when there is high write contention on same key, as it uses a single conditional variable per lock stripe. A new PerKeyPointLockManager is added, which uses per thread conditional variable supporting fifo order. Although this is an experimental feature, by default, it is disabled.
Together a new configuration deadlock_timeout_us is added to TransactionOptions, which allows the transaction to wait for a short period before perform deadlock detection. When the workload has low lock contention, the deadlock_timeout_us can be configured to be slightly higher than average transaction execution time, so that transaction would likely be able to take the lock before deadlock detection is performed when it is waiting for a lock. This allows transaction to reduce CPU cost on performing deadlock detection, which could be expensive in CPU time. When the workload has high lock contention, the deadlock_timeout_us can be configured to 0, so that transaction would perform deadlock detection immediately.
